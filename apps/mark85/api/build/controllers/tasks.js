const a1_0x5d0a13=a1_0x3b05;function a1_0x3b05(_0x1cd270,_0x256c16){const _0x37b9bc=a1_0x37b9();return a1_0x3b05=function(_0x3b058e,_0x5ce504){_0x3b058e=_0x3b058e-0x1a4;let _0x258e55=_0x37b9bc[_0x3b058e];return _0x258e55;},a1_0x3b05(_0x1cd270,_0x256c16);}(function(_0x4ec014,_0x56ca54){const _0x500b87=a1_0x3b05,_0x960552=_0x4ec014();while(!![]){try{const _0x4d43b0=-parseInt(_0x500b87(0x1c3))/0x1*(parseInt(_0x500b87(0x1b2))/0x2)+-parseInt(_0x500b87(0x1bd))/0x3*(-parseInt(_0x500b87(0x1b8))/0x4)+parseInt(_0x500b87(0x1a4))/0x5*(-parseInt(_0x500b87(0x1ae))/0x6)+-parseInt(_0x500b87(0x1b6))/0x7+-parseInt(_0x500b87(0x1c0))/0x8+-parseInt(_0x500b87(0x1be))/0x9*(parseInt(_0x500b87(0x1aa))/0xa)+-parseInt(_0x500b87(0x1bc))/0xb*(-parseInt(_0x500b87(0x1c1))/0xc);if(_0x4d43b0===_0x56ca54)break;else _0x960552['push'](_0x960552['shift']());}catch(_0x22735b){_0x960552['push'](_0x960552['shift']());}}}(a1_0x37b9,0xc7d71));import a1_0x168cdf from'../models/task';import{publishToQueue}from'../services/mqservice';import'dotenv/config';const defaultQueue=process[a1_0x5d0a13(0x1a5)][a1_0x5d0a13(0x1b4)];function a1_0x37b9(){const _0x5359c4=['json','QUEUE_NAME','params','8769012PbyVaF','-date','2176suhHkk','name','save','split','11wDjJKb','1251LhKeyv','225uzQqHP','</p><p>A\x20tarefa\x20<strong>','479120HYgWZM','36979476pidqJm','find','5356GGmzpv','findById','query','815245UDMZCm','env','findOne','</strong>\x20foi\x20criada\x20com\x20sucesso!</p>\x20<p>Equipe\x20Mark85</p>','<p>OlÃ¡,\x20','ValidationError','91270RmeGXe','findByIdAndUpdate','status','end','30JtpqEb','_id','Duplicated\x20task!','body','50efxbRF'];a1_0x37b9=function(){return _0x5359c4;};return a1_0x37b9();}export default{'create':async(_0x241af0,_0x550b6e)=>{const _0x44b0bd=a1_0x5d0a13,{name:_0x4acabd,tags:_0x20f462}=_0x241af0[_0x44b0bd(0x1b1)],{user:_0x267874}=_0x241af0,_0x4245f7=await a1_0x168cdf[_0x44b0bd(0x1a6)]({'name':_0x4acabd,'user':_0x267874['_id']});if(_0x4245f7)return _0x550b6e[_0x44b0bd(0x1ac)](0x199)[_0x44b0bd(0x1b3)]({'message':_0x44b0bd(0x1b0)});const _0x596e25=new a1_0x168cdf({'name':_0x4acabd,'tags':_0x20f462,'user':_0x267874['_id']});try{const _0x4921e1=await _0x596e25[_0x44b0bd(0x1ba)]();let _0x2feae7={'html':_0x44b0bd(0x1a8)+_0x267874[_0x44b0bd(0x1b9)][_0x44b0bd(0x1bb)]('\x20')[0x0]+_0x44b0bd(0x1bf)+_0x596e25[_0x44b0bd(0x1b9)]+_0x44b0bd(0x1a7),'email':_0x267874['email']};return publishToQueue(defaultQueue,JSON['stringify'](_0x2feae7)),_0x550b6e['status'](0xc8)[_0x44b0bd(0x1b3)](_0x4921e1);}catch(_0x16e2f7){if(_0x16e2f7['name']===_0x44b0bd(0x1a9))return _0x550b6e[_0x44b0bd(0x1ac)](0x190)[_0x44b0bd(0x1b3)](_0x16e2f7);return _0x550b6e[_0x44b0bd(0x1ac)](0x1f4)[_0x44b0bd(0x1b3)](_0x16e2f7);}},'list':async(_0x2a227e,_0xdf9d8b)=>{const _0x4e3bbd=a1_0x5d0a13,{user:_0x4a407e}=_0x2a227e;let _0x831eff={'user':_0x4a407e['_id']};_0x2a227e[_0x4e3bbd(0x1c5)][_0x4e3bbd(0x1b9)]&&(_0x831eff[_0x4e3bbd(0x1b9)]=new RegExp(_0x2a227e[_0x4e3bbd(0x1c5)][_0x4e3bbd(0x1b9)],'i'));const _0x157ab7=await a1_0x168cdf[_0x4e3bbd(0x1c2)](_0x831eff,{},{'sort':'-date'});return _0xdf9d8b[_0x4e3bbd(0x1ac)](0xc8)[_0x4e3bbd(0x1b3)](_0x157ab7);},'get':async(_0x3e3693,_0x445955)=>{const _0x15e64e=a1_0x5d0a13,{task_id:_0x3616c0}=_0x3e3693[_0x15e64e(0x1b5)],{user:_0x5767ab}=_0x3e3693,_0x443aaa=await a1_0x168cdf[_0x15e64e(0x1c4)]({'_id':_0x3616c0,'user':_0x5767ab[_0x15e64e(0x1af)]},{},{'sort':_0x15e64e(0x1b7)});if(!_0x443aaa)return _0x445955[_0x15e64e(0x1ac)](0x194)[_0x15e64e(0x1ad)]();return _0x445955[_0x15e64e(0x1ac)](0xc8)[_0x15e64e(0x1b3)](_0x443aaa);},'remove':async(_0x5e0a07,_0x558906)=>{const _0x1af8e9=a1_0x5d0a13,{task_id:_0x967a71}=_0x5e0a07[_0x1af8e9(0x1b5)],{user:_0x525d43}=_0x5e0a07,_0x1cc243=await a1_0x168cdf['findOneAndDelete']({'_id':_0x967a71,'user':_0x525d43['_id']});if(!_0x1cc243)return _0x558906[_0x1af8e9(0x1ac)](0x194)[_0x1af8e9(0x1ad)]();return _0x558906[_0x1af8e9(0x1ac)](0xcc)[_0x1af8e9(0x1ad)]();},'done':async(_0x705f66,_0x433260)=>{const _0x3bf124=a1_0x5d0a13,{task_id:_0x132ba5}=_0x705f66[_0x3bf124(0x1b5)],{user:_0x20d38c}=_0x705f66,_0x520565=await a1_0x168cdf['findOne']({'_id':_0x132ba5,'user':_0x20d38c['_id']});if(!_0x520565)return _0x433260[_0x3bf124(0x1ac)](0x194)[_0x3bf124(0x1ad)]();try{return await a1_0x168cdf['findByIdAndUpdate']({'_id':_0x132ba5,'user':_0x20d38c[_0x3bf124(0x1af)]},{'$set':{'is_done':!![]}}),_0x433260[_0x3bf124(0x1ac)](0xcc)[_0x3bf124(0x1ad)]();}catch(_0x113d64){if(_0x113d64[_0x3bf124(0x1b9)]===_0x3bf124(0x1a9))return _0x433260[_0x3bf124(0x1ac)](0x190)[_0x3bf124(0x1b3)](_0x113d64);return _0x433260['status'](0x1f4)['json'](_0x113d64);}},'todo':async(_0x3cfd73,_0x972e6d)=>{const _0x24be1a=a1_0x5d0a13,{task_id:_0x4f0756}=_0x3cfd73[_0x24be1a(0x1b5)],{user:_0x5ebddd}=_0x3cfd73,_0xa0dba3=await a1_0x168cdf[_0x24be1a(0x1a6)]({'_id':_0x4f0756,'user':_0x5ebddd['_id']});if(!_0xa0dba3)return _0x972e6d['status'](0x194)[_0x24be1a(0x1ad)]();try{return await a1_0x168cdf[_0x24be1a(0x1ab)]({'_id':_0x4f0756,'user':_0x5ebddd[_0x24be1a(0x1af)]},{'$set':{'is_done':![]}}),_0x972e6d['status'](0xcc)[_0x24be1a(0x1ad)]();}catch(_0x1948c8){if(_0x1948c8['name']===_0x24be1a(0x1a9))return _0x972e6d[_0x24be1a(0x1ac)](0x190)['json'](_0x1948c8);return _0x972e6d[_0x24be1a(0x1ac)](0x1f4)[_0x24be1a(0x1b3)](_0x1948c8);}}};